import{a as V}from"./chunk-XTXX7FLZ.js";import{a as z}from"./chunk-WWOP5CWK.js";import{a as y,c as E}from"./chunk-N33IVAED.js";import{a as B,b as D}from"./chunk-STDFH7RV.js";import{d as T}from"./chunk-UVENSJEX.js";import{Aa as _,Ha as x,Hc as w,La as u,Mc as S,Nc as I,Oc as k,Pc as F,Xa as m,Xb as O,Ya as n,Yb as P,Za as i,_a as C,ac as b,cb as v,da as g,ea as f,eb as M,fb as s,tb as d,ub as p,vb as h,wa as c}from"./chunk-UFRGRQRP.js";function j(t,a){if(t&1){let e=v();n(0,"div",10),M("click",function(){let o=g(e).$implicit,l=s(2);return f(l.selectMood(o))}),n(1,"div",11)(2,"mat-icon"),d(3),i()(),n(4,"h3"),d(5),i(),n(6,"p"),d(7),i()()}if(t&2){let e=a.$implicit;c(3),p(e.icon),c(2),p(e.name),c(2),p(e.description)}}function N(t,a){if(t&1&&(n(0,"div",4)(1,"div",5)(2,"h1",6)(3,"mat-icon"),d(4,"psychology"),i(),d(5," \xBFC\xF3mo te sientes? "),i(),n(6,"p",7),d(7," Elige tu estado de \xE1nimo y te recomendaremos las pel\xEDculas perfectas para tus emociones "),i()(),n(8,"div",8),u(9,j,8,3,"div",9),i()()),t&2){let e=s();c(9),m("ngForOf",e.moods)}}function $(t,a){t&1&&(n(0,"div",19),C(1,"mat-spinner",20),n(2,"p"),d(3,"Encontrando pel\xEDculas que coincidan con tu estado de \xE1nimo..."),i()())}function A(t,a){if(t&1){let e=v();n(0,"app-movie-card",23),M("trailerClicked",function(o){g(e);let l=s(3);return f(l.onTrailerClick(o))}),i()}if(t&2){let e=a.$implicit;m("movie",e)("showOverview",!0)}}function H(t,a){if(t&1&&(n(0,"div",21),u(1,A,1,2,"app-movie-card",22),i()),t&2){let e=s(2);c(),m("ngForOf",e.recommendedMovies)}}function R(t,a){if(t&1){let e=v();n(0,"div",24)(1,"mat-icon"),d(2,"movie_filter"),i(),n(3,"h3"),d(4,"No se encontraron pel\xEDculas para este estado de \xE1nimo"),i(),n(5,"p"),d(6,"\xA1Intenta seleccionar un estado de \xE1nimo diferente o vuelve m\xE1s tarde!"),i(),n(7,"button",25),M("click",function(){g(e);let o=s(2);return f(o.goBack())}),d(8," Elegir Otro Estado de \xC1nimo "),i()()}}function Y(t,a){if(t&1){let e=v();n(0,"div",12)(1,"div",13)(2,"button",14),M("click",function(){g(e);let o=s();return f(o.goBack())}),n(3,"mat-icon"),d(4,"arrow_back"),i()(),n(5,"div",15)(6,"mat-icon",11),d(7),i(),n(8,"div")(9,"h1"),d(10),i(),n(11,"p"),d(12),i()()()(),u(13,$,4,0,"div",16)(14,H,2,1,"div",17)(15,R,9,0,"div",18),i()}if(t&2){let e=s();c(7),p(e.selectedMood.icon),c(3),h("Pel\xEDculas para cuando est\xE1s ",e.selectedMood.name),c(2),p(e.selectedMood.description),c(),m("ngIf",e.loading),c(),m("ngIf",e.recommendedMovies.length>0&&!e.loading),c(),m("ngIf",!e.loading&&e.recommendedMovies.length===0)}}var ie=(()=>{let a=class a{constructor(r,o,l,q){this.moodService=r,this.tmdbService=o,this.route=l,this.router=q,this.moods=[],this.selectedMood=null,this.recommendedMovies=[],this.loading=!1}ngOnInit(){this.moods=this.moodService.getMoods(),this.route.queryParams.subscribe(r=>{if(r.mood){let o=this.moodService.getMoodById(r.mood);o&&this.selectMood(o)}})}selectMood(r){this.selectedMood=r,this.loading=!0,this.recommendedMovies=[],this.router.navigate([],{relativeTo:this.route,queryParams:{mood:r.id},queryParamsHandling:"merge"}),this.tmdbService.findByMood(r.id).subscribe({next:o=>{this.recommendedMovies=o,this.loading=!1},error:o=>{console.error("Error cargando pel\xEDculas por estado de \xE1nimo:",o),this.loading=!1}})}goBack(){this.selectedMood=null,this.recommendedMovies=[],this.router.navigate([],{relativeTo:this.route,queryParams:{},queryParamsHandling:"replace"})}onTrailerClick(r){console.log("Ver trailer de la pel\xEDcula:",r)}};a.\u0275fac=function(o){return new(o||a)(_(V),_(T),_(y),_(E))},a.\u0275cmp=x({type:a,selectors:[["app-mood-finder"]],decls:4,vars:2,consts:[[1,"mood-finder-container"],[1,"container"],["class","mood-selection",4,"ngIf"],["class","mood-results",4,"ngIf"],[1,"mood-selection"],[1,"page-header"],[1,"page-title"],[1,"page-description"],[1,"moods-grid"],["class","mood-card",3,"click",4,"ngFor","ngForOf"],[1,"mood-card",3,"click"],[1,"mood-icon"],[1,"mood-results"],[1,"results-header"],["mat-icon-button","",1,"back-button",3,"click"],[1,"selected-mood-info"],["class","loading-container",4,"ngIf"],["class","movies-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"movies-grid"],[3,"movie","showOverview","trailerClicked",4,"ngFor","ngForOf"],[3,"trailerClicked","movie","showOverview"],[1,"empty-state"],["mat-raised-button","",1,"btn","btn-primary",3,"click"]],template:function(o,l){o&1&&(n(0,"div",0)(1,"div",1),u(2,N,10,1,"div",2)(3,Y,16,6,"div",3),i()()),o&2&&(c(2),m("ngIf",!l.selectedMood),c(),m("ngIf",l.selectedMood))},dependencies:[b,O,P,F,k,I,S,w,D,B,z],styles:['.mood-finder-container[_ngcontent-%COMP%]{min-height:100vh;padding:2rem 0}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:3rem;font-weight:600;margin-bottom:1rem;color:#fff}.page-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#e50914;font-size:3rem;width:3rem;height:3rem}.page-description[_ngcontent-%COMP%]{font-size:1.2rem;color:#ccc;max-width:600px;margin:0 auto}.moods-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem}.mood-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:2rem;text-align:center;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.mood-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(229,9,20,.1),transparent);transition:left .5s ease}.mood-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:#e509144d;box-shadow:0 20px 40px #e5091433}.mood-card[_ngcontent-%COMP%]:hover:before{left:100%}.mood-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.mood-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#e50914}.mood-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;color:#fff;font-weight:600}.mood-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ccc;font-size:1rem;line-height:1.4}.results-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:3rem;padding-bottom:2rem;border-bottom:1px solid rgba(255,255,255,.1)}.back-button[_ngcontent-%COMP%]{background:#e509141a!important;color:#e50914!important;border:1px solid rgba(229,9,20,.3)}.selected-mood-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.selected-mood-info[_ngcontent-%COMP%]   .mood-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#e50914}.selected-mood-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#fff;margin:0}.selected-mood-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ccc;margin:0;font-size:1.1rem}.movies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:4rem 2rem;color:#ccc}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#ccc}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#e50914;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;color:#fff}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem}@media (max-width: 768px){.page-title[_ngcontent-%COMP%]{font-size:2rem;flex-direction:column;gap:1rem}.moods-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.results-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.selected-mood-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.selected-mood-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}}']});let t=a;return t})();export{ie as MoodFinderComponent};
